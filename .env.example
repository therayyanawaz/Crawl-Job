# ── Database ──────────────────────────────────
# Canonical DB settings (preferred) | Type: string/number | REQUIRED
DB_HOST=<db_host>
DB_PORT=5432
DB_USER=<db_user>
DB_PASSWORD=<db_password>
DB_NAME=<db_name>
# Full Postgres connection string (overrides individual PG*/DB_* vars) | Type: string | Default: (none) | OPTIONAL
DATABASE_URL=postgresql://<db_user>:<db_password>@<db_host>:5432/<db_name>
# PG* aliases (kept for compatibility) | Type: string/number | OPTIONAL
PGHOST=<db_host>
# Postgres port | Type: number | Default: 5432 | OPTIONAL
PGPORT=5432
# Postgres username | Type: string | Default: (none) | OPTIONAL
PGUSER=<db_user>
# Postgres password | Type: string | Default: (none) | OPTIONAL
PGPASSWORD=<db_password>
# Postgres database name | Type: string | Default: crawl_job | OPTIONAL
PGDATABASE=<db_name>
# Enable TLS for Postgres (used for managed DBs). Set to "true" or "false" | Type: boolean | Default: false | OPTIONAL
PGSSL=false
# Max DB pool connections | Type: number | Default: 10 | OPTIONAL
PG_POOL_MAX=10

# ── Proxy ─────────────────────────────────────
# Comma-separated proxy URLs (first is used by some HTTP sources) | Type: string | Default: (empty) | OPTIONAL
PROXY_URLS=http://user:pass@1.2.3.4:8080,http://user:pass@5.6.7.8:8080
# Minimum proxy count required before fetching free lists | Type: number | Default: 5 | OPTIONAL
PROXY_MIN_COUNT=5
# Refresh interval for proxy pool (minutes) | Type: number | Default: 15 | OPTIONAL
PROXY_REFRESH_INTERVAL_MINUTES=15

# ── Crawling ──────────────────────────────────
# Minimum combined jobs before enabling headless Tier 4 | Type: number | Default: 15 | OPTIONAL
MIN_JOBS_BEFORE_HEADLESS=15
# Skip headless if already collected jobs reach this threshold | Type: number | Default: 25 | OPTIONAL
HEADLESS_SKIP_THRESHOLD=25
# Max headless concurrency cap | Type: number | Default: 5 | OPTIONAL
HEADLESS_MAX_CONCURRENCY=5
# Enable per-domain rate limiting (set "false" to disable) | Type: boolean | Default: true | OPTIONAL
ENABLE_DOMAIN_RATE_LIMITING=true
# Enable Indeed crawling (set "true" to enable) | Type: boolean | Default: false | OPTIONAL
ENABLE_INDEED=false
# Enable LinkedIn crawling (set "true" to enable) | Type: boolean | Default: false | OPTIONAL
ENABLE_LINKEDIN=false
# LinkedIn cookie string (required if ENABLE_LINKEDIN=true) | Type: string | Default: (none) | OPTIONAL
LINKEDIN_COOKIE=
# Search queries JSON array (list of {keywords,location,maxResults}) | Type: JSON array | Default: (built-in defaults) | OPTIONAL
SEARCH_QUERIES=[{"keywords":"software developer fresher","location":"India","maxResults":50}]
# Global base delay override (ms). If unset/blank, uses per-domain config | Type: number | Default: null | OPTIONAL
BASE_DELAY_MS=
# Global jitter range override (ms). If unset/blank, uses per-domain config | Type: number | Default: null | OPTIONAL
RANDOM_DELAY_RANGE_MS=
# Off-hours start (IST hour 0-23) | Type: number | Default: 22 | OPTIONAL
OFF_HOURS_START=22
# Off-hours end (IST hour 0-23) | Type: number | Default: 6 | OPTIONAL
OFF_HOURS_END=6
# Override exponential backoff multiplier (otherwise per-domain config; fallback=2) | Type: number | Default: (domain config) | OPTIONAL
RATE_LIMIT_BACKOFF_MULTIPLIER=
# Max backoff attempts before giving up | Type: number | Default: 5 | OPTIONAL
MAX_BACKOFF_ATTEMPTS=5
# Enable deduplication (set "false" to disable) | Type: boolean | Default: true | OPTIONAL
DEDUP_ENABLED=true
# Log duplicates (set "false" to disable) | Type: boolean | Default: true | OPTIONAL
DEDUP_LOG_SKIPPED=true
# Dedup store retention days | Type: number | Default: 30 | OPTIONAL
DEDUP_RETENTION_DAYS=30
# Archive dataset shards after N days | Type: number | Default: 7 | OPTIONAL
ARCHIVE_AFTER_DAYS=7
# Delete local archives after N days | Type: number | Default: 90 | OPTIONAL
DELETE_AFTER_DAYS=90
# Health check interval (ms) | Type: number | Default: 300000 | OPTIONAL
HEALTH_CHECK_INTERVAL_MS=300000
# Serper.dev API key for Tier 1 SERP API | Type: string | Default: 03a6a5832aa7008001fd5dbaff3de09eea0d4ac2 | OPTIONAL
SERPER_API_KEY=your_serper_api_key
# Enable S3-compatible cloud uploads (set "true" to enable) | Type: boolean | Default: false | OPTIONAL
CLOUD_UPLOAD_ENABLED=false
# Storage directory (Crawlee storage root) | Type: string | Default: ./storage | OPTIONAL
CRAWLEE_STORAGE_DIR=storage
# S3 bucket name | Type: string | Default: (empty) | OPTIONAL
S3_BUCKET=my-archives-bucket
# S3 region | Type: string | Default: ap-south-1 | OPTIONAL
S3_REGION=ap-south-1
# S3 access key | Type: string | Default: (empty) | OPTIONAL
S3_ACCESS_KEY=
# S3 secret key | Type: string | Default: (empty) | OPTIONAL
S3_SECRET_KEY=
# S3 endpoint (blank = AWS S3). For Spaces/MinIO/R2 provide full URL | Type: string | Default: (empty) | OPTIONAL
S3_ENDPOINT=

# ── LLM Provider (via model-select) ─────────────────
# Run `npm run setup` to configure your AI provider interactively.
# model-select will write .env.modelselect in this directory automatically.
# Alternatively, set these manually:
# MODEL_ID=<provider/model-id>   (e.g. ollama/qwen2.5, anthropic/claude-sonnet-4-5)
# <PROVIDER_API_KEY>=<your-key>  (env var name depends on provider)
# Priority order: .env.modelselect > process.env > Ollama defaults below
# ── Legacy Ollama fallback (still works if no .env.modelselect) ──────────────
# Ollama base URL | Type: string | Default: http://localhost:11434 | OPTIONAL
OLLAMA_BASE_URL=http://localhost:11434
# Ollama model | Type: string | Default: qwen2.5:32b-instruct-q8_0 | OPTIONAL
OLLAMA_MODEL=qwen2.5:32b-instruct-q8_0
# Ollama request timeout (ms) | Type: number | Default: 120000 | OPTIONAL
OLLAMA_TIMEOUT_MS=120000
# Ollama temperature | Type: number | Default: 0 | OPTIONAL
OLLAMA_TEMPERATURE=0
# Ollama max tokens | Type: number | Default: 4096 | OPTIONAL
OLLAMA_MAX_TOKENS=4096
# ── Universal LLM overrides (apply to any provider) ─────────────────────────
# Override timeout for any provider | OPTIONAL
LLM_TIMEOUT_MS=120000
# Override temperature for any provider | OPTIONAL
LLM_TEMPERATURE=0
# Override max tokens for any provider | OPTIONAL
LLM_MAX_TOKENS=4096
# Daily LLM spend limit in USD (0 = disabled) | Type: number | Default: 1.00 | OPTIONAL
LLM_DAILY_BUDGET_USD=1.00

# ── Alerts ────────────────────────────────────
# Enable alerts (set "false" to disable) | Type: boolean | Default: true | OPTIONAL
ENABLE_ALERTS=true
# Slack incoming webhook URL | Type: string | Default: (empty) | OPTIONAL
ALERT_SLACK_WEBHOOK=
# Generic webhook URL | Type: string | Default: (empty) | OPTIONAL
ALERT_WEBHOOK_URL=
# Alert email recipient (requires local MTA) | Type: string | Default: (empty) | OPTIONAL
ALERT_EMAIL=
# Minimum minutes between alerts per channel+severity | Type: number | Default: 15 | OPTIONAL
ALERT_COOLDOWN_MIN=15
# Health threshold: failure rate warning (%) | Type: number | Default: 70 | OPTIONAL
HEALTH_FAILURE_RATE_WARN_PCT=70
# Health threshold: failure rate critical (%) | Type: number | Default: 40 | OPTIONAL
HEALTH_FAILURE_RATE_CRIT_PCT=40
# Health threshold: no progress warning (minutes) | Type: number | Default: 20 | OPTIONAL
HEALTH_NO_PROGRESS_WARN_MIN=20
# Health threshold: no progress critical (minutes) | Type: number | Default: 45 | OPTIONAL
HEALTH_NO_PROGRESS_CRIT_MIN=45
# Health threshold: memory warning (MB) | Type: number | Default: 2500 | OPTIONAL
HEALTH_MEMORY_WARN_MB=2500
# Health threshold: memory critical (MB) | Type: number | Default: 3500 | OPTIONAL
HEALTH_MEMORY_CRIT_MB=3500
# Health threshold: rate limit warning count | Type: number | Default: 10 | OPTIONAL
HEALTH_RATE_LIMIT_WARN_COUNT=10
# Health threshold: rate limit critical count | Type: number | Default: 30 | OPTIONAL
HEALTH_RATE_LIMIT_CRIT_COUNT=30
# Health threshold: proxy failure warning count | Type: number | Default: 5 | OPTIONAL
HEALTH_PROXY_FAIL_WARN_COUNT=5
# Health threshold: proxy failure critical count | Type: number | Default: 20 | OPTIONAL
HEALTH_PROXY_FAIL_CRIT_COUNT=20
# Health threshold: zero jobs after N minutes | Type: number | Default: 10 | OPTIONAL
HEALTH_ZERO_JOBS_AFTER_MIN=10

# ── Logging ───────────────────────────────────
# Crawlee log level (e.g. DEBUG, INFO, WARNING, ERROR) | Type: string | Default: INFO | OPTIONAL
CRAWLEE_LOG_LEVEL=INFO
# Metrics snapshot flush interval (ms) | Type: number | Default: 120000 | OPTIONAL
METRICS_FLUSH_INTERVAL_MS=120000
# Max concurrent DB persistence tasks | Type: number | Default: 15 | OPTIONAL
PERSIST_CONCURRENCY=15
